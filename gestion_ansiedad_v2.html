<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de la Ansiedad</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f0f2f5;
            margin: 0;
            padding: 20px;
            color: #333;
        }
        h1 {
            font-size: 36px;
            color: #004d40;
        }
        h2 {
            font-size: 28px;
            color: #004d40;
        }
        h3 {
            font-size: 22px;
            color: #004d40;
        }
        p {
            font-size: 16px;
            line-height: 1.6;
        }
        button {
            padding: 12px 24px;
            margin-top: 20px;
            background-color: #00897b;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 18px;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #00796b;
        }
        .section {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .section iframe {
            width: 100%;
            height: 300px;
            border-radius: 8px;
        }
        #mask {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 9;
        }
        #pop-up {
            background-color: white;
            border: 2px solid #004d40;
            padding: 20px;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
            width: 300px;
            text-align: center;
        }
        #five-senses {
            margin-top: 20px;
        }
        #five-senses button {
            padding: 10px 20px;
            margin-top: 20px;
            background-color: #4caf50;
        }
        .video-container {
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>Gestión de la Ansiedad</h1>
    <p>Identifica tu nivel de estrés</p>

    <button onclick="showSection('low')">Bajo</button>
    <button onclick="showSection('medium')">Medio</button>
    <button onclick="showSection('high')">Alto</button>
    <button onclick="showSection('crisis')">Al borde de una crisis</button>

    <!-- Bajo -->
    <div id="low" class="section">
        <h2>Nivel Bajo</h2>
        <div class="video-container">
            <iframe src="https://www.youtube.com/embed/I5tip6L5fOQ?start=33" frameborder="0" allow="autoplay"></iframe>
            <audio controls loop>
                <source src="https://www.soundjay.com/nature/rain-01.mp3" type="audio/mp3">
                Tu navegador no soporta este audio.
            </audio>
        </div>
        <button onclick="location.reload()">Volver a inicio</button>
    </div>

    <!-- Medio -->
    <div id="medium" class="section">
        <h2>Nivel Medio</h2>
        <div class="video-container">
            <iframe src="https://www.youtube.com/embed/YpmFpmz9Jr0?start=34" frameborder="0" allow="autoplay"></iframe>
            <audio controls loop>
                <source src="https://www.youtube.com/watch?v=S-Xm7s9eGxU" type="audio/mp3">
                Tu navegador no soporta este audio.
            </audio>
        </div>
        <button onclick="location.reload()">Volver a inicio</button>
    </div>

    <!-- Alto -->
    <div id="high" class="section">
        <h2>Nivel Alto</h2>
        <p>Realiza el ejercicio de externalización a través de los cinco sentidos.</p>
        <div id="five-senses">
            <h3>1. ¿Se puede tocar el fuego?</h3>
            <button onclick="nextSense()">Siguiente</button>
        </div>
    </div>

    <!-- Crisis -->
    <div id="crisis" class="section">
        <h2>Al borde de una crisis</h2>
        <audio controls autoplay loop>
            <source src="https://www.soundjay.com/nature/rain-02.mp3" type="audio/mp3">
            Tu navegador no soporta este audio.
        </audio>
        <p>Cuenta atrás:</p>
        <div id="timer">30</div>
        <button onclick="startCountdown()">Iniciar cuenta atrás</button>
    </div>

    <!-- Pop-up -->
    <div id="pop-up">
        <p>¿Te sientes mejor?</p>
        <button onclick="location.reload()">Sí</button>
        <button onclick="window.location.href='https://psicolink.es/'">No</button>
    </div>

    <!-- Máscara oscura -->
    <div id="mask"></div>

    <script>
        let currentSense = 0;
        const sensesQuestions = [
            "¿Se puede tocar el fuego?",
            "¿Se puede saborear el humo?",
            "¿Se puede oler el agua?",
            "¿Se puede escuchar el color azul?",
            "¿Se puede ver el sonido de la música?",
            "¿Se puede tocar el viento?",
            "¿Se puede saborear el aire?",
            "¿Se puede oler la luz?",
            "¿Se puede escuchar una sombra?",
            "¿Se puede ver la humedad?"
        ];

        let timer;

        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => section.style.display = 'none');
            document.getElementById(sectionId).style.display = 'block';
        }

        function startCountdown() {
            let count = 30;
            document.getElementById('timer').textContent = count;
            timer = setInterval(() => {
                count--;
                document.getElementById('timer').textContent = count;
                if (count === 0) {
                    clearInterval(timer);
                    showPopUp();
                }
            }, 1000);
        }

        function nextSense() {
            currentSense++;
            if (currentSense < sensesQuestions.length) {
                document.querySelector('#five-senses h3').textContent = sensesQuestions[currentSense];
            } else {
                showPopUp();
            }
        }

        function showPopUp() {
            document.getElementById('pop-up').style.display = 'block';
            document.getElementById('mask').style.display = 'block';
        }
    </script>
</body>
</html>
