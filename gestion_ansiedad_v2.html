<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de la Ansiedad</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f0f2f5;
            margin: 0;
            padding: 20px;
            color: #333;
        }
        h1 {
            font-size: 36px;
            color: #004d40;
        }
        h2 {
            font-size: 28px;
            color: #004d40;
        }
        h3 {
            font-size: 22px;
            color: #004d40;
        }
        p {
            font-size: 16px;
            line-height: 1.6;
        }
        button {
            padding: 12px 24px;
            margin-top: 20px;
            background-color: #00897b;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 18px;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #00796b;
        }
        .section {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        #pop-up {
            background-color: white;
            border: 2px solid #004d40;
            padding: 20px;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
            width: 300px;
            text-align: center;
        }
        #mask {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 9;
        }
        #five-senses {
            margin-top: 20px;
        }
        #five-senses button {
            padding: 10px 20px;
            margin-top: 20px;
            background-color: #4caf50;
        }
        #medium button {
            margin-top: 20px;
            background-color: #4caf50;
        }
    </style>
</head>
<body>
    <h1>Gestión de la Ansiedad</h1>
    <p>Identifica tu nivel de estrés</p>

    <button onclick="showSection('high')">Alto</button>

    <!-- Nivel Alto -->
    <div id="high" class="section">
        <h2>Nivel Alto</h2>
        <div id="five-senses">
            <h3 id="sense-question">¿Se puede tocar el fuego?</h3>
            <button onclick="nextSense()">Siguiente</button>
        </div>
    </div>

    <!-- Nivel Medio (con reproducción manual del vídeo) -->
    <div id="medium" class="section">
        <h2>Nivel Medio</h2>
        <p>Escucha el sonido para relajarte.</p>
        <button onclick="playVideo()">Reproducir sonido</button>
        <div id="video-container" style="display: none;">
            <iframe id="sound" width="560" height="315" 
                src="https://www.youtube.com/embed/S-Xm7s9eGxU?autohide=1&showinfo=0" 
                frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
            </iframe>
        </div>
    </div>

    <!-- Pop-up -->
    <div id="pop-up" style="display: none;">
        <p>¿Te sientes mejor?</p>
        <button onclick="location.reload()">Sí</button>
        <button onclick="window.location.href='https://psicolink.es/'">No</button>
    </div>

    <!-- Máscara oscura -->
    <div id="mask"></div>

    <script>
        let currentSense = 0;
        const sensesQuestions = [
            "¿Se puede tocar el fuego?",
            "¿Se puede saborear el humo?",
            "¿Se puede oler el agua?",
            "¿Se puede escuchar el color azul?",
            "¿Se puede ver el sonido de la música?",
            "¿Se puede tocar el viento?",
            "¿Se puede saborear el aire?",
            "¿Se puede oler la luz?",
            "¿Se puede escuchar una sombra?",
            "¿Se puede ver la humedad?"
        ];

        // Función para mostrar una sección
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => section.style.display = 'none');
            document.getElementById(sectionId).style.display = 'block';
            
            if (sectionId === 'high') {
                // Mostrar solo las preguntas cuando el nivel alto es seleccionado
                currentSense = 0;
                document.getElementById('sense-question').textContent = sensesQuestions[currentSense];
            }
        }

        // Función para pasar a la siguiente pregunta
        function nextSense() {
            currentSense++;
            if (currentSense < sensesQuestions.length) {
                document.getElementById('sense-question').textContent = sensesQuestions[currentSense];
            } else {
                showPopUp();
            }
        }

        // Función para mostrar el pop-up al finalizar
        function showPopUp() {
            document.getElementById('pop-up').style.display = 'block';
            document.getElementById('mask').style.display = 'block';
        }

        // Función para reproducir el vídeo cuando se hace clic en "Reproducir sonido"
        function playVideo() {
            document.getElementById('video-container').style.display = 'block';
        }
    </script>
</body>
</html>
